mod hart;
mod ram;
mod csr;
mod see;

use crate::hart::Hart;
use crate::ram::Ram;


fn main() {
    let mut ram = Ram::new(vec![
        // li a0, 'H'
        0x13, 0x05, 0x80, 0x04,
        // li a7, 0x01
        0x93, 0x08, 0x10, 0x00,
        // ecall
        0x73, 0x00, 0x00, 0x00,
    ]);
    ram.write(0x40, vec![0x48, 0x65, 0x6c, 0x6c, 0x6f, 0x20, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x21, 0x0a, 0x00]);

    let mut m = Hart::new(ram);
    for _ in 0..3 {
        m.tick()
    }
}
